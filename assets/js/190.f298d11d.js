(window.webpackJsonp=window.webpackJsonp||[]).push([[190],{786:function(t,s,a){"use strict";a.r(s);var _=a(24),e=Object(_.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"qiankun2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#qiankun2-0"}},[t._v("#")]),t._v(" qiankun2.0")]),t._v(" "),a("h4",{attrs:{id:"_1-沙箱-是什么？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-沙箱-是什么？"}},[t._v("#")]),t._v(' 1."沙箱"是什么？')]),t._v(" "),a("p",[t._v("沙箱 (Sandboxie) ，又叫沙盘，即是一个虚拟系统程序，允许你在沙盘环境中运行浏览器或其他程序，因此运行所产生的变化可以随后删除。它创造了一个类似沙盒的独立作业环境，在其内部运行的程序并不能对硬盘产生永久性的影响。 在网络安全中，沙箱指在隔离环境中，用以测试不受信任的文件或应用程序等行为的工具")]),t._v(" "),a("p",[t._v("在qiankun里，其实就是解决微前端中的隔离问题，它实现了一个叫做"),a("code",{staticClass:"default"},[t._v("运行时沙箱")]),t._v("的东西")]),t._v(" "),a("h4",{attrs:{id:"_2-沙箱-是如何实现的？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-沙箱-是如何实现的？"}},[t._v("#")]),t._v(' 2."沙箱"是如何实现的？')]),t._v(" "),a("p",[t._v("简单来说，分为"),a("code",{staticClass:"default"},[t._v("js沙箱")]),t._v("、"),a("code",{staticClass:"default"},[t._v("样式沙箱")])]),t._v(" "),a("h5",{attrs:{id:"js沙箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js沙箱"}},[t._v("#")]),t._v(" js沙箱")]),t._v(" "),a("p",[t._v("通过 "),a("code",{staticClass:"default"},[t._v("proxy")]),t._v(" 代理 "),a("code",{staticClass:"default"},[t._v("window")]),t._v(" 对象，记录 "),a("code",{staticClass:"default"},[t._v("window")]),t._v(" 对象上属性的增删改查")]),t._v(" "),a("ul",[a("li",[t._v("单例模式")])]),t._v(" "),a("blockquote",[a("p",[t._v("直接代理了原生 window 对象，记录原生 window 对象的增删改查，当 window 对象激活时恢复 window 对象到上次即将失活时的状态，失活时恢复 window 对象到初始初始状态")])]),t._v(" "),a("ul",[a("li",[t._v("多例模式")])]),t._v(" "),a("blockquote",[a("p",[t._v("代理了一个全新的对象，这个对象是复制的 window 对象的一部分不可配置属性，所有的更改都是基于这个 fakeWindow 对象，从而保证多个实例之间属性互不影响")])]),t._v(" "),a("p",[t._v("将这个 "),a("code",{staticClass:"default"},[t._v("proxy")]),t._v(" 作为微应用的全局对象，所有的操作都在这个 "),a("code",{staticClass:"default"},[t._v("proxy")]),t._v(" 对象上，这就是 JS 沙箱的原理")]),t._v(" "),a("h5",{attrs:{id:"css沙箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css沙箱"}},[t._v("#")]),t._v(" css沙箱")]),t._v(" "),a("p",[t._v("利用了"),a("code",{staticClass:"default"},[t._v("Shadow DOM")]),t._v("影子节点，可以将一个隐藏的、独立的 DOM 附加到一个元素上，一般来说是微应用的容器，以及运用了"),a("code",{staticClass:"default"},[t._v("Scoped CSS 隔离")]),t._v("来实现css沙箱（添加css属性）")])])}),[],!1,null,null,null);s.default=e.exports}}]);